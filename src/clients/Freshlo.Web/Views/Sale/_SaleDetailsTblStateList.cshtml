@using Freshlo.Web.Models.Sale;
@using System.Globalization;
@using Freshlo.Web.Helpers;
@model SalesDetailVM
@{
    int counterHeader = 0;
    int counterBody = 0;
}

<style>
    .payment_status,
    .payment_mode {
        display: flex;
        padding: 0;
        flex-wrap: wrap;
        margin-top: 0.5rem;
    }

        .payment_status li,
        .payment_mode li {
            list-style: none;
            display: inline-block;
            padding: 0.5rem 0;
            margin-right: 1rem;
            text-align: center;
            border: 2px dashed #c5c1c1;
            cursor: pointer;
            width: 30%;
            margin-bottom: 1rem;
        }

            .payment_status li i,
            .payment_mode li i {
                margin-right: 0.2rem;
                vertical-align: middle;
                display: none;
            }

            .payment_status li.active {
                border-color: #cc2424;
                color: #cc2424;
            }

            .payment_mode li.active {
                border-color: #cc2424;
                color: #cc2424;
            }


            .payment_status li.active i {
                display: inline-block;
            }

            .payment_mode li.active i {
                display: inline-block;
            }
</style>

<div class="row bodyDetail" style="display:none">
    <div class="col-md-3">
        <div class="m-portlet" style="position: sticky !important;top: 80px;z-index: 3;">
            <div class="m-portlet__body">
                <div class="row">
                    <div class="col-6">
                        <div class="form-group">
                            <label class="mb-1 font-small-2">Sales Order ID</label>
                            <h6 class="font-medium-1 text-bold-600" id="SalesId">@Model.SaleData.SalesOrderId <small>(@Model.SaleData.Source)</small></h6>
                            <span hidden name="Sales_Id" id="SalesOrderId" asp-for="@Model.SaleData.SalesOrderId">@Model.SaleData.SalesOrderId</span>
                            <input hidden name="CreatedBy" asp-for="SaleData.CreatedBy" />
                            <input hidden id="sales-Id" name="Id" asp-for="SaleData.Id" />

                            @*<span id="SalesId">@Model.SaleData.SalesOrderId</span>*@
                            <span hidden id="CreatedBy">@Model.SaleData.CreatedBy</span>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-group">
                            <label class="mb-1 font-small-2">Ordered Date</label>
                            <h6 class="font-medium-1 text-bold-600">@(Model.SaleData.OrderedOn.ToString("dd-MMM-yyyy  hh:mm", CultureInfo.InvariantCulture))</h6>
                        </div>
                    </div>

                    @*<div class="col-md-6">
                            <div class="form-group">
                                <label class="mb-1 font-small-2">Source</label>
                                <h6 class="font-medium-1 text-bold-600">Web</h6>
                            </div>
                        </div>*@
                </div>
                <div class="row">
                    <div class="col-6">
                        <div class="form-group">
                            <label class="mb-1 font-small-2">Sales Order Status</label>
                            <h6 class="font-medium-1 text-bold-600">
                                <span class="m-badge m-badge--@(SalesHelpers.OrderStatusTag.ContainsKey(Model.SaleData.OrderdStatus) ? SalesHelpers.OrderStatusTag[Model.SaleData.OrderdStatus]:"info") m-badge--wide">@Model.SaleData.OrderdStatus</span>
                            </h6>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-group">
                            <label class="mb-1 font-small-2">Payment Status</label>
                            <h6 class="font-medium-1 text-bold-600">
                                <span class="m-badge m-badge--@(SalesHelpers.PaymentStatusTag.ContainsKey(Model.SaleData.PaymentStatus) ? SalesHelpers.PaymentStatusTag[Model.SaleData.PaymentStatus]:"warning") m-badge--wide" id="PaymentStatus">@Model.SaleData.PaymentStatus</span>

                            </h6>
                        </div>
                    </div>
                </div>
                <div class="row">

                    <div class="col-6">
                        <div class="form-group">
                            <label class="mb-1 font-small-2">Payment Mode</label>
                            <h6 class="font-medium-1 text-bold-600" id="PaymentMode">@Model.SaleData.PaymentMode</h6>
                            <h6 class="font-medium-1 text-bold-600" id="TransactionIdS" style="display:none">@Model.SaleData.TransactionId</h6>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-group">
                            <label class="mb-1 font-small-2">Coupon Applied</label>
                            <h6 class="font-medium-1 text-bold-600" name="CoupenCode" id="CoupenCode">@Model.SaleData.Coupencode</h6>
                            <input hidden id="CoupenId" name="CoupenId" asp-for="@Model.SaleData.CoupenId" />
                            <input hidden id="Coupendisc" name="Coupen_Disc" asp-for="@Model.SaleData.DiscountPer" />
                            <input hidden id="DiscountValue" name="Discount" asp-for="@Model.SaleData.Discount" />

                        </div>
                    </div>
                </div>
                <div class="row">

                    <div class="col-6">
                        <div class="form-group">
                            <label class="mb-1 font-small-2">Delivery Date</label>
                            <h6 class="font-medium-1 text-bold-600">@(Model.SaleData.DeliveryDate.ToString("dd-MMM-yyyy", CultureInfo.InvariantCulture))</h6>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-group">
                            <label class="mb-1 font-small-2">Slot</label>
                            <h6 class="font-medium-1 text-bold-600">@Model.SaleData.SlotId</h6>
                            <span hidden id="MaxDiscount">@Model.SaleData.MaxDiscount</span>
                        </div>
                    </div>
                </div>
                <div class="row">

                    <div class="col-6">
                        <div class="form-group">
                            <label class="mb-1 font-small-2">Table</label>
                            <h6 class="font-medium-1 text-bold-600">@(Model.SaleData.tableName)</h6>
                        </div>
                    </div>
                </div>

                <hr class="mt-0" />
                <div class="row">
                    <div class="col-md-12">
                        <div class="table-responsive">
                            <input hidden value="@Model.SaleData.TotalPrice" id="totalPr" />
                            <input hidden value="@Model.SaleData.Discount" id="discount" />
                            <input hidden value="@Model.SaleData.DeliveryCharges" id="deliveryChr" />
                            <input hidden value="@Model.SaleData.WalletAmount" id="walletAmount" />
                            <table class="table table-striped table-borderless">
                                <thead>
                                    <tr>
                                        <th colspan="2">Bill Summary</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Order Value<span id="currency" hidden>@(SalesHelpers.Data)</span> </td>
                                        <td class="text-right text-bold-600">@(SalesHelpers.Data)<span class="text-bold-600" id="billSubAmount">@((Model.SaleData.TotalPrice + Convert.ToDouble(Model.SaleData.Discount)))</span><span hidden id="TotalCartDiscValue">@Model.SaleData.TotalPrice</span></td>

                                    </tr>
                                    <tr>
                                        <td>Delivery Charge</td>
                                        <td class="text-right text-bold-600">+ @(SalesHelpers.Data)<span class="text-bold-600" id="billDeliveryCharge"> @Model.SaleData.DeliveryCharges</span></td>
                                    </tr>
                                    <tr>
                                        <td>Discount Applied</td>
                                        <td class="text-right text-bold-600">- @(SalesHelpers.Data)<span class="text-bold-600" id="billDiscountAmt">@(Model.SaleData.Discount)</span></td>
                                    </tr>
                                    <tr>
                                        <td>Total Amount</td>
                                        <td class="text-right text-bold-600"> @(SalesHelpers.Data)<span class="text-bold-600" id="billCalculationtAmt">@((Model.SaleData.TotalPrice + Convert.ToDouble(Model.SaleData.DeliveryCharges)))</span></td>
                                    </tr>

                                    <tr>
                                        <td>Wallet Cash Applied</td>
                                        <td class="text-right text-bold-600">- @(SalesHelpers.Data)<span class="text-bold-600" id="WallentAmount">@(Model.SaleData.WalletAmount)</span></td>
                                    </tr>

                                    <tr>
                                        <td>GST (CGST + SGST)</td>
                                        <td class="text-right">
                                            <span class="text-bold-600">+  @(SalesHelpers.Data) <span class="text-bold-600" id="GSTValueId">@Model.GSTDetail.GST_Sum</span></span><br />
                                            @*<span class="text-bold-600">SGST 5% - Rs. 15.00</span><br />
                                                <span class="text-bold-600">CGST 5% - Rs. 15.00</span>*@
                                        </td>
                                    </tr>
                                    <tr style="background-color: #ffdd78;color: #3e3e3e;font-weight: bold;font-size: 15px;">
                                        <td>Payable Amount</td>
                                        <td class="text-right text-bold-600">
                                            @(SalesHelpers.Data)<span class="text-bold-600" id="billFinalAmount"></span>
                                            <span hidden id="TotalsalesListCount">@Model.salesListcount</span>
                                        </td>
                                    </tr>

                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-9">
        <div class="row">
            <div class="col-md-12">
                <div class="m-portlet">
                    <div class="m-portlet__body">
                        <div class="row">
                            <div class="col-md-3 col-6">
                                <div class="form-group">
                                    <label class="mb-1 font-small-2">Customer Name / ID</label>
                                    <a href="/Customer/Detail/@Model.SaleData.CustomerId">
                                        <h6 class="font-medium-1 text-bold-500 mb-0" id="CustomerName">@Model.SaleData.CustomerName</h6>
                                        <span class="font-small-3" id="CustId">@Model.SaleData.CustomerId</span>
                                    </a>
                                    <input type="hidden" id="CustomerIds" name="CustomerId" asp-for="SaleData.CustomerId" />
                                    <input type="hidden" id="HubId" asp-for="SaleData.Hub" />
                                    <input type="hidden" id="CustomerNo" asp-for="SaleData.CustomerNo" />
                                    <input type="hidden" id="TransactionId" asp-for="SaleData.TransactionId" />
                                    <input type="hidden" id="PaymentStatus" asp-for="SaleData.PaymentStatus" />


                                </div>
                            </div>
                            <div class="col-md-3 col-6">
                                <div class="form-group">
                                    <label class="mb-1 font-small-2">Customer Number</label>
                                    <h6 class="font-medium-1 text-bold-500">@Model.SaleData.CustomerNo</h6>
                                </div>
                            </div>
                            <div class="col-md-3 col-6">
                                <div class="form-group">
                                    <label class="mb-1 font-small-2">Total Ordered</label>
                                    <h6 class="font-medium-1 text-bold-500">
                                        @Model.SaleData.TotalQuantity
                                    </h6>
                                </div>
                            </div>
                            <div class="col-md-3 col-6">
                                <div class="form-group">
                                    <label class="mb-1 font-small-2">Total Weight</label>
                                    <h6 class="font-medium-1 text-bold-500">
                                        @(Model.SaleData.TotalWeight) kg
                                    </h6>
                                </div>
                            </div>

                        </div>
                        <div class="row" style="display:none">
                        <div class="col-md-3 col-6">
                            <div class="form-group">
                                <label class="mb-1 font-small-2">Address</label>
                                <h6 class="font-medium-1 text-bold-500">@(Model.SaleData.BuildingName + ' ' + Model.SaleData.RoomNo + ' ' + Model.SaleData.Locality + ' ' + Model.SaleData.Landmark + ' ' + Model.SaleData.City + ' ' + Model.SaleData.state)</h6>
                            </div>
                        </div> 
                        <div class="col-md-3 col-6">
                            <div class="form-group">
                                <label class="mb-1 font-small-2">Email Address</label>
                                <h6 class="font-medium-1 text-bold-500">@(Model.SaleData.EmailId)</h6>
                            </div>
                        </div>
                        <div class="col-md-3 col-6">
                            <div class="form-group">
                                <label class="mb-1 font-small-2">Delivery Note's</label>
                                <h6 class="font-medium-1 text-bold-500">
                                    @(Model.SaleData.DeliveryNotes)
                                </h6>
                            </div>
                        </div>
                    </div>
                        <div class="row">
                            <div class="col-md-12 p-2">
                                <div class="row">
                                    <div class="col-md-3 col-6">
                                        <div class="form-group">
                                            <label class="mb-1 font-small-2">Confirmed By</label>
                                            <h6 class="font-medium-1 text-bold-600">@(Model.SaleProductStatus.ConfirmedStatusPersonName == null ? "NA" : Model.SaleProductStatus.ConfirmedStatusPersonName)</h6>
                                            <span>@(Model.SaleProductStatus.ConfirmedStatusDate.ToString("dd-MMM-yyyy hh:mm:ss", CultureInfo.InvariantCulture))</span>
                                        </div>
                                    </div>
                                    <div class="col-md-3 col-6" style="display:none">
                                        <div class="form-group">
                                            <label class="mb-1 font-small-2">Packed By</label>
                                            <h6 class="font-medium-1 text-bold-600">@(Model.SaleProductStatus.PackedStatusPersonName == null ? "NA" : Model.SaleProductStatus.PackedStatusPersonName)</h6>
                                            <span>@(Model.SaleProductStatus.PackedStatusDate.ToString("dd-MMM-yyyy hh:mm:ss", CultureInfo.InvariantCulture))</span>
                                        </div>
                                    </div>
                                    <div class="col-md-3 col-6">
                                        <div class="form-group">
                                            <label class="mb-1 font-small-2">Delivery Person</label>
                                            <h6 class="font-medium-1 text-bold-600">@Model.SaleData.DeliveryPerson</h6>
                                            <span id="spnDeliveryDate">@(Model.SaleData.DeliveryDate.ToString("dd-MMM-yyyy hh:mm:ss", CultureInfo.InvariantCulture))</span>
                                            <input type="hidden" name="ProductDeliveryDates" asp-for="@Model.SaleData.DeliveryDate" />
                                        </div>
                                    </div>
                                    <div class="col-md-3 col-6">
                                        <div class="form-group">
                                            <label class="mb-1 font-small-2">Settelment Status</label>
                                            <h6 class="font-medium-1 text-bold-600">Unknown</h6>
                                            <span></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <div class="m-portlet" style="position: sticky !important;top: 80px;z-index: 3;">
                    <ul class="nav nav-tabs  m-tabs-line bg-white" role="tablist" style="position: sticky !important;top: 80px;z-index: 3;">

                        <li class="nav-item m-tabs__item">
                            <a class="nav-link m-tabs__link active" data-toggle="tab" href="#cartlist" role="tab">Cart List</a>
                        </li>
                        <li class="nav-item m-tabs__item">
                            <a class="nav-link m-tabs__link" data-toggle="tab" href="#items" role="tab">Items Search</a>
                        </li>
                    </ul>
                    <div class="m-portlet__body pt-3">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="tab-content">
                                    <div class="tab-pane animated fadeIn" id="items" role="tabpanel">
                                        <div class="row">
                                            <div class="">
                                                <ul class="nav nav-tabs  m-tabs-line bg-white" role="tablist">
                                                    @foreach (var mc in Model.getmainList)
                                                    {
                                                        @if (counterHeader == 0)
                                                        {
                                                            <li class="nav-item m-tabs__item">
                                                                <a class="nav-link m-tabs__link active" data-toggle="tab" href="#catgitem_@mc.MaincatId" role="tab">@mc.Name</a>
                                                            </li>

                                                        }
                                                        else
                                                        {
                                                            <li class="nav-item m-tabs__item">
                                                                <a class="nav-link m-tabs__link" data-toggle="tab" href="#catgitem_@mc.MaincatId" role="tab">@mc.Name</a>
                                                            </li>

                                                        }
                                                        counterHeader++;

                                                    }
                                                </ul>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="tab-content">
                                                    <div class="mb-2" style="display:block">
                                                        <div class="col-md-4">
                                                            <div class="form-group">
                                                                <input type="text" class="form-control m-input m-input--solid" id="SearchItem" placeholder="Product Code / Name..." />

                                                            </div>
                                                        </div>
                                                    </div>
                                                    @foreach (var mc in Model.getmainList)
                                                    {
                                                        if (counterBody == 0)
                                                        {

                                                            <div class="tab-pane row active" id="catgitem_@mc.MaincatId" role="tabpanel">
                                                                <div class="container">
                                                                    <div class="row" id="ItemDetails_@mc.MaincatId">



                                                                    </div>
                                                                </div>
                                                            </div>

                                                        }
                                                        else
                                                        {
                                                            <div class="tab-pane row mtabs" id="catgitem_@mc.MaincatId" role="tabpanel">
                                                                <div class="container">
                                                                    <div class="row" id="ItemDetails_@mc.MaincatId">



                                                                    </div>
                                                                </div>
                                                            </div>


                                                        }
                                                        counterBody++;

                                                    }
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                    <div class="tab-pane animated fadeIn active" id="cartlist" role="tabpanel">
                                        <div class="m-portlet m-portlet--tabs">
                                            <div class="m-portlet__body">
                                                <div class="">
                                                    <div>
                                                        <div class="row animated fadeIn mb-2">
                                                            <div class="col-md-4">
                                                                <div class="form-group mb-0">
                                                                    <select id="temp55" class="form-control m-input m-input--solid m-select2  temp55 clearitem"></select>
                                                                </div>
                                                                <span id="spnProductMsg"></span>
                                                                <span hidden id="ItemWithCoupen"></span>
                                                                <span hidden id="ItemWitoutCoupen"></span>
                                                            </div>
                                                            <div class="col-md-2">
                                                                <div class="form-group mb-0">
                                                                    <input type="text" id="SearchQuantity" class="form-control m-input m-input--solid clearitem" placeholder="Qty" title="Quantity" />
                                                                    <span id="SpnSearchquantity_Err" class="clearitem" style="color:red;display:none"></span>
                                                                    <span hidden id="itemstock" class="clearitem"></span>
                                                                    <span hidden id="SPurchaseprice" class="clearitem"></span>
                                                                    <span hidden id="SstockId" class="clearitem"></span>
                                                                    <span hidden id="SItemId" class="clearitem"></span>
                                                                    <span hidden id="SCategoryName" class="clearitem"></span>
                                                                    <span hidden id="SCategoryId" class="clearitem"></span>
                                                                    <span hidden id="SItemName" class="clearitem"></span>
                                                                    <span hidden id="SMarketPrice" class="clearitem"></span>
                                                                    <span hidden id="SItemtype" class="clearitem"></span>
                                                                    <span hidden id="SItem_Id" class="clearitem"></span>
                                                                    <span hidden id="STaxValue" class="clearitem"></span>


                                                                </div>
                                                            </div>
                                                            <div class="col-md-2 display-none">
                                                                <div class="form-group mb-0">
                                                                    <input type="text" id="NetWeightId" class="form-control m-input m-input--solid clearitem" placeholder="Net Weight" title="Net Weight" />
                                                                    <span hidden id="Smeaure" class="clearitem"></span>
                                                                    <input type="hidden" id="ShiddenWeight" class="clearitem" />
                                                                    <span hidden id="Sprice" class="clearitem"></span>
                                                                    <span hidden id="SCoupenDisc" class="clearitem"></span>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-1 display-block">
                                                                <div class="form-group mb-0">
                                                                    <input type="text" id="SearchDiscount" class="form-control  m-input m-input--solid clearitem" placeholder="00" title="Discount" />
                                                                </div>
                                                            </div>
                                                            <div class="col-md-2">
                                                                <div class="form-group mb-0">
                                                                    <input type="text" id="SearchAmount" class="form-control m-input m-input--solid clearitem" placeholder="@(SalesHelpers.Data) 00.00" readonly />
                                                                    <span id="ShdMarket" style="visibility:hidden;" class="clearitem"></span>
                                                                    <span hidden id="tempSearchAmount" class="clearitem"></span>
                                                                    <span hidden id="totalGst"></span>
                                                                    <input type="hidden" id="TotalsalesOrderCost" class="form-control TotalsalesOrderCost" name="TotalsalesOrderCost" style="width:100px;" />
                                                                </div>
                                                            </div>
                                                            <div class="col-md-1">
                                                                <div class="form-group mb-0">
                                                                    <button type="button" id="AddSearchId" class="btn btn-danger btn-block"><i class="la la-plus"></i></button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <hr />
                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <div class="table-responsive">
                                                                    <table class="table ab-table-head-bg-warning-light table-borderless table-middle table-white-space-th">
                                                                        <thead>
                                                                            <tr>
                                                                                <th></th>

                                                                                <th>Product Name</th>
                                                                                @*<th>Measurement</th>*@
                                                                                @*<th>Weight</th>*@
                                                                                <th>Qty</th>
                                                                                <th>Unit Price</th>
                                                                                <th>Discount</th>

                                                                                <th>Total Price</th>
                                                                                <th>Action</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody id="tblsaleslist">



                                                                            @foreach (var itemlist in Model.productSalesList)
                                                                            {

                                                                                <tr id="@itemlist.SalesListId">
                                                                                    @if (itemlist.Size != "NOVAR")
                                                                                    {
                                                                                        <td>
                                                                                            <span hidden id="ItemSalesId_@itemlist.SalesListId">@itemlist.SalesListId</span>
                                                                                            <span hidden="" id="Totalitemstock_@itemlist.SalesListId">-12</span>
                                                                                            <a href="/ItemMaster/Detail/@itemlist.Item_Id" class="text-link">
                                                                                                @itemlist.PluName - @itemlist.Size
                                                                                            </a>
                                                                                            <span class="display-block font-small-3 text-bold-500 text-muted">@itemlist.Barcode</span>
                                                                                        </td>
                                                                                    }
                                                                                    @if (itemlist.Size == "NOVAR")
                                                                                    {
                                                                                        <td>
                                                                                            <span hidden id="ItemSalesId_@itemlist.SalesListId">@itemlist.SalesListId</span>
                                                                                            <span hidden="" id="Totalitemstock_@itemlist.SalesListId">-12</span>
                                                                                            <a href="/ItemMaster/Detail/@itemlist.Item_Id" class="text-link">
                                                                                                @itemlist.PluName
                                                                                            </a>
                                                                                            <span class="display-block font-small-3 text-bold-500 text-muted">@itemlist.Barcode</span>
                                                                                        </td>
                                                                                    }

                                                                                    <td class="display-none">
                                                                                        <span>@itemlist.ItemWeight @itemlist.Measurement X Rs. @itemlist.PricePerMeas</span>
                                                                                        @* <span hidden id="TotalsalesListCount">@Model.salesListcount</span>*@
                                                                                        <input type="hidden" id="TotalsalesListCount_@itemlist.SalesListId" class="form-control" name="TotalsalesListCount" asp-for="@Model.salesListcount" style="width:60px;" />
                                                                                        <input type="text" id="editsalesListCount_@itemlist.SalesListId" class="form-control weight" name="editsalesListCount" style="width:60px;" />
                                                                                        <span hidden id="coupenDisc_@itemlist.SalesListId">@itemlist.Coupen_Disc</span>
                                                                                        <span hidden id="taxValue_@itemlist.SalesListId">@itemlist.Item_Cost</span>
                                                                                    </td>
                                                                                    <td class="display-none">
                                                                                        @if (itemlist.ItemType == "Packed")
                                                                                        {
                                                                                            <input type="text" id="Netweight_@itemlist.SalesListId" class="form-control weight" readonly name="weightList" asp-for="@itemlist.ItemWeight" style="width:60px;" />

                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <input type="text" class="form-control weight" id="Netweight_@itemlist.SalesListId" readonly name="weightList" asp-for="@itemlist.ItemWeight" style="width:60px;" />

                                                                                        }
                                                                                        <input type="text" id="Itemstatus_@itemlist.SalesListId" class="form-control status" readonly name="statusList" asp-for="@itemlist.status" style="width:60px;" hidden />
                                                                                        <span class="text-bold-400" id="spnNetweight_@itemlist.SalesListId" hidden>@itemlist.ItemWeight</span>
                                                                                        <span class="text-bold-400" id="spnItemstatus_@itemlist.SalesListId" hidden>@itemlist.status</span>
                                                                                    </td>
                                                                                    <td style="display:none">
                                                                                        <div class="qty">
                                                                                            <div class="input-group">
                                                                                                <div class="input-group-btn">
                                                                                                    <div class="btn-number low-qty" disabled="disabled" data-type="minus" data-field="quant[1]">
                                                                                                        <img src="~/img/qty-left-arrow.png" alt="arrow" />
                                                                                                    </div>
                                                                                                </div>
                                                                                                <input type="text" name="quant[1]" class="form-control input-number" value="0" min="1" max="10" maxlength="2" />
                                                                                                <div class="input-group-btn">
                                                                                                    <div class="btn-number" data-type="plus" data-field="quant[1]">
                                                                                                        <img src="~/img/qty-right-arrow.png" alt="arrow" />
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>
                                                                                        @if (itemlist.ItemType == "Loose")
                                                                                        {
                                                                                            <input type="text" class="form-control Quantity" name="QuantityValues" id="quantity_@itemlist.SalesListId" readonly asp-for="@itemlist.QuantityValue" style="width:60px;" />
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <input type="text" class="form-control Quantity" id="quantity_@itemlist.SalesListId" name="QuantityValues" asp-for="@itemlist.QuantityValue" style="width:60px;" readonly />
                                                                                        }
                                                                                        <span class="text-bold-400" id="spanquantity_@itemlist.SalesListId" hidden>@itemlist.QuantityValue</span>
                                                                                    </td>
                                                                                    <td class="text-dark font-medium-3 font-weight-bold">
                                                                                        <span> @(SalesHelpers.Data)</span>
                                                                                        <span class="text-bold-500 " id="TotalPrice_@itemlist.SalesListId">@itemlist.TotalPrice</span>
                                                                                    </td>
                                                                                    <td>
                                                                                        @if (Convert.ToString(User.FindFirst("userRole").Value) == "10" || Convert.ToString(User.FindFirst("userRole").Value) == "9")
                                                                                        {
                                                                                            @if (itemlist.status == "Pending")
                                                                                            {

                                                                                                <a href="#" data-Id="@(itemlist.SalesListId)" data-ktid="@(itemlist.KitchListId)" class="text-danger font-medium-1 text-bold-600 removeSaleList">X</a>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <a href="#" class="text-danger font-medium-1 text-bold-600 removeSaleDisable" data-title="You Can't Cancelled This Its Ready For Cooked">X</a>

                                                                                            }

                                                                                        }
                                                                                        else if (Convert.ToString(User.FindFirst("userRole").Value) == "System Admin")
                                                                                        {

                                                                                            <a href="#" data-Id="@(itemlist.SalesListId)" data-ktid="@(itemlist.KitchListId)" class="text-danger font-medium-1 text-bold-600 removeSaleList">X</a>

                                                                                        }
                                                                                        <input hidden type="text" id="SalesIds_@itemlist.SalesListId" asp-for="@itemlist.SalesId" />
                                                                                        <input hidden type="text" id="CustomerIds_@itemlist.SalesListId" asp-for="@itemlist.CustomerId" />
                                                                                        <input hidden type="text" id="Category_@itemlist.SalesListId" name="Categorys" asp-for="@itemlist.Category" />
                                                                                        <input hidden type="text" id="ItemId_@itemlist.SalesListId" name="ItemIds" asp-for="@itemlist.ItemId" />
                                                                                        <input hidden type="text" id="Item_Id_@itemlist.SalesListId" name="Item_Id" asp-for="@itemlist.Item_Id" />
                                                                                        <input type="text" id="PriceId_@itemlist.SalesListId" name="PriceId" asp-for="@itemlist.PriceId" />
                                                                                        <input hidden type="text" id="Price_Id_@itemlist.SalesListId" name="Price_Id" asp-for="@itemlist.Price_Id" />
                                                                                        <input hidden type="text" id="Table_@itemlist.SalesListId" name="tableId" asp-for="@itemlist.tableId" />
                                                                                        <input hidden type="text" id="OrderQty_@itemlist.SalesListId" name="OrderQty" asp-for="@itemlist.OrderQty" />
                                                                                        <input hidden type="text" id="ItmNetWeight_@itemlist.SalesListId" name="ItmNetWeight" asp-for="@itemlist.ItmNetWeight" />
                                                                                        <input hidden type="text" id="weight_@itemlist.SalesListId" name="weight" asp-for="@itemlist.weight" />
                                                                                        <input hidden type="text" id="Measurements_@itemlist.SalesListId" name="Measurements" asp-for="@itemlist.Measurement" />
                                                                                        <input hidden type="text" id="Size_@itemlist.SalesListId" name="Size" asp-for="@itemlist.Size" />
                                                                                        <input hidden type="text" id="PercePerItemId_@itemlist.SalesListId" name="PricePerMeasList" asp-for="@itemlist.PricePerMeas" />
                                                                                        <input hidden type="text" id="TotalPriceList_@itemlist.SalesListId" name="TotalPriceList" asp-for="@itemlist.TotalPrice" />
                                                                                        <input hidden type="text" id="DiscountListId_@itemlist.SalesListId" name="DiscountList" asp-for="@itemlist.Discount" />
                                                                                        <input hidden type="text" id="ItemWeight_@itemlist.SalesListId" name="ItemWeight" asp-for="@itemlist.ItemWeight" />
                                                                                        <input hidden type="text" id="ItemStatus_@itemlist.SalesListId" name="ItemStatus" asp-for="@itemlist.status" />
                                                                                    </td>
                                                                                </tr>

                                                                            }
                                                                            @*<tr>
                                                                                    <td>
                                                                                        <div class="m-widget4__img m-widget4__img--logo">
                                                                                            <img src="https://freshlo.oss-ap-south-1.aliyuncs.com/HurTex/icon/ITM0239.png" alt="" style="width:60px;">
                                                                                        </div>
                                                                                    </td>
                                                                                    <td><span hidden="" id="Totalitemstock_ITM0239">-12</span></td>
                                                                                    <td>
                                                                                        <h6 class="mb-1">Jaggery Powder Traditional (Natural Sugar) 500g</h6>
                                                                                        <span class="display-block font-small-3 text-bold-500 text-muted">Masala, Spices & Chutney</span>
                                                                                    </td>
                                                                                    <td>
                                                                                        <span>1 pk X Rs. 56</span>
                                                                                    </td>
                                                                                    <td>
                                                                                        <span class="text-bold-400">1</span>
                                                                                    </td>
                                                                                    <td>
                                                                                        <span class="text-bold-400">1</span>
                                                                                    </td>
                                                                                    <td>
                                                                                        <span>0</span>
                                                                                    </td>
                                                                                    <td>
                                                                                        <span> Rs.</span>
                                                                                        <span class="text-bold-500 text-info">56</span>
                                                                                    </td>
                                                                                    <td>
                                                                                        <a href="#" class="text-danger font-medium-1 text-bold-600">X</a>
                                                                                    </td>
                                                                                </tr>*@
                                                                        </tbody>

                                                                    </table>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="m-portlet__body" style="display:none">

    <div class="animated fadeIn mt-3">
        <div class="row">
            <div class="col-md-12">
                <div class="form-group">
                    <h6>Customer Detail</h6>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-5">
                <div class="font-small-3">Customer ID </div>
            </div>
            <div class="col-md-7">
                <div class="font-small-4"> : <span id="cusdetailId"></span> </div>

            </div>
        </div>
        <div class="row">
            <div class="col-md-5">
                <div class="font-small-3">Customer ID </div>
            </div>
            <div class="col-md-7">
                <div class="font-small-4"> : <span id="custdetailorgid"></span> </div>

            </div>
        </div>
        <div class="row">
            <div class="col-md-5">
                <div class="font-small-3">Customer Name </div>
            </div>
            <div class="col-md-7">
                <div class="font-small-4"> : <span id="customerName"></span></div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-5">
                <div class="font-small-3">Mobile No </div>
            </div>
            <div class="col-md-7">
                <div class="font-small-4"> : <span id="customermobileno"></span></div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-5">
                <div class="font-small-3">Address </div>
            </div>
            <div class="col-md-7">
                <div id="AddDiv" class="font-small-4"> :</div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-5">
                <div class="font-small-3">App Installed</div>
            </div>
            <div class="col-md-7">
                <div class="font-small-4">
                    :  <a href="#" class="font-small-4" data-container="body" data-toggle="m-popover" data-placement="top" data-content="App link" data-original-title="" title="">
                        No
                        <sup><span class="m-nav__link-badge m-badge--dot m-badge--dot-small m-badge m-badge--danger"></span></sup>
                    </a>
                    <span class="font-small-4" id="customerappinstall"></span><sup><span id="spnappinstall" class="m-nav__link-badge"></span></sup>
                </div>
            </div>
        </div>
    </div>
    <hr />
    <div class="row">
        <div class="col-md-6">
            <div class="text-left font-medium-2 text-bold-700">
                <span id="cusdetailId" hidden></span>
                <div class="">Total Items : <span id="TotalCartItemId" class="font-medium-2 text-bold-700">0</span></div>
                <span hidden id="SavedPriceId"></span>
            </div>
        </div>
    </div>

</div>

<div class="" id="customerdetail" style="display:none">
    <form class="form form-horizontal" method="post" enctype="multipart/form-data">
        <div class="row">
            <div class="col-md-12">
                <div class="form-group">
                    <div class="float-right">
                        <button type="button" id="btnaddAddress" class="btn btn-secondary btn-sm" data-toggle="modal" data-target="#create_new_address"><i class="la la-plus"></i> Add New</button>
                    </div>
                </div>
            </div>
        </div>
        <hr />
        <div class="row mt-2">
            <div class="col-md-12">
                <h6>List of Address's</h6>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <div class="table-responsive">
                    <table class="table table-borderless">
                        <tbody id="tblcustaddressdetail"></tbody>
                    </table>
                </div>
            </div>
        </div>
    </form>
</div>

<div class="modal fade" id="create_new_address" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Address Detail</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form class="form form-horizontal" method="post" enctype="multipart/form-data" action="/Sale/CreateorUpdateCustomerDetail/" id="CustomerDetailId">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group row">
                                <label for="" class="col-md-4 col-12 col-form-label">Customer Name</label>
                                <div class="col-md-4 col-sm-3 col-6">
                                    <input type="text" class="form-control m-input m-input--solid" id="Name" name="Name" placeholder="Enter Customer Name" />
                                    <input type="hidden" class="form-control m-input m-input--solid" id="CustomerId" name="CustomerId" />
                                    <input type="hidden" class="form-control m-input m-input--solid" id="Id" name="Id" />

                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="" class="col-md-4 col-12 col-form-label">Contact Number</label>
                                <div class="col-md-4 col-sm-3 col-6">
                                    <input type="text" class="form-control m-input m-input--solid" id="ContactNo" name="ContactNo" placeholder="Enter Contact Number" />
                                    <span id="ContactNo_err" style="color:red;display:none"></span>
                                    <input type="hidden" class="form-control m-input m-input--solid" id="addid" name="Addids" />
                                    <input type="hidden" class="form-control m-input m-input--solid" id="compAddId" name="AddId" />
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="" class="col-md-4 col-12 col-form-label">Email ID</label>
                                <div class="col-md-7 col-sm-3 col-6">
                                    <input type="text" class="form-control m-input m-input--solid" id="EmailId" name="EmailId" placeholder="Enter Email ID" />
                                </div>
                            </div>
                            <hr />
                            <div class="form-group row">
                                <label for="" class="col-md-4 col-12 col-form-label">Building / Chawl Name</label>
                                <div class="col-md-4 col-sm-3 col-6">
                                    <input type="text" class="form-control m-input m-input--solid" id="BuildingName" name="BuildingName" placeholder="Enter Building / Chawl Name" />
                                </div>
                                <div class="col-md-3 col-sm-3 col-6">
                                    <input type="text" class="form-control m-input m-input--solid" id="RoomNo" name="RoomNo" placeholder="Enter Room Number" />
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="" class="col-md-4 col-12 col-form-label">Street Name / Sec Number</label>
                                <div class="col-md-4 col-sm-3 col-6">
                                    <input type="text" class="form-control m-input m-input--solid" id="Sector" name="Sector" placeholder="Enter Street Name / Sec Number" />
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="" class="col-md-4 col-12 col-form-label">Landmark / Near by</label>
                                <div class="col-md-4 col-sm-3 col-6">
                                    <input type="text" class="form-control m-input m-input--solid" id="Landmark" name="Landmark" placeholder="Enter Landmark / Near by" />
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="" class="col-md-4 col-12 col-form-label">Town / Locality</label>
                                <div class="col-md-4 col-sm-3 col-6">
                                    <input type="text" class="form-control m-input m-input--solid" id="Locality" name="Locality" placeholder="Enter Town / Locality" />
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="" class="col-md-4 col-12 col-form-label">Address Type</label>
                                <div class="col-md-4 col-sm-3 col-6">
                                    <select id="AddressType" name="AddressType" class="form-control m-input m-input--solid">
                                        <option value="0" selected disabled>Select Type</option>
                                        <option value="Home">Home</option>
                                        <option value="Office">Office</option>
                                        <option value="Other">Other</option>
                                    </select>
                                </div>
                            </div>
                            @*<div class="form-group row">
                                    <label for="" class="col-md-4 col-12 col-form-label">Hub Name</label>
                                    <div class="col-md-4 col-sm-3 col-6">
                                        <select class="form-control m-input m-input--solid">
                                            <option selected disabled>Select Hub</option>
                                            <option>Value 1</option>
                                            <option>Valu
                                e 2</option>
                                            <option>Value 3</option>
                                        </select>
                                    </div>
                                </div>*@
                            <hr />
                            <div class="form-group row">
                                <label for="" class="col-md-4 col-12 col-form-label">Zip Code</label>
                                <div class="col-md-4 col-sm-3 col-6">
                                    <input type="text" class="form-control m-input m-input--solid" id="ZipCode" name="ZipCode" placeholder="Enter Zip Code" />
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="" class="col-md-4 col-12 col-form-label">City</label>
                                <div class="col-md-4 col-sm-3 col-6">
                                    <input type="text" class="form-control m-input m-input--solid" id="City" name="City" placeholder="Enter City" />
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="" class="col-md-4 col-12 col-form-label">State</label>
                                <div class="col-md-4 col-sm-3 col-6">
                                    <input type="text" class="form-control m-input m-input--solid" id="State" name="State" placeholder="Enter State" />
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="" class="col-md-4 col-12 col-form-label">Country</label>
                                <div class="col-md-4 col-sm-3 col-6">
                                    <input type="text" class="form-control m-input m-input--solid" id="Country" name="Country" placeholder="Enter Country" />
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" id="btnCustomerAdd" class="btn btn-primary">Submit</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="applyCouponCode" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-md modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Apply Coupon Code</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-12" id="CoupantypeSelect">
                        <div class="form-group">
                            <label class="mb-1">Coupan Type</label>
                            <select class="form-control text-bold-600" id="Coupantype">
                                <option value="0" selected>Select Coupon Type</option>
                                <option value="1">Cash Discount</option>
                                <option value="2">Internal Coupon </option>
                                <option value="3">External Coupon </option>
                            </select>
                          </div>
                     </div>
                </div>
                <div class="row" id="CouponBody">
                      <div class="col-md-12" id="InternalCoupon" style="display:none">
                        <div class="form-group">
                            <label class="mb-1">Apply Coupon Code</label>
                            <select class="form-control text-bold-600" id="CoupenCodeId" asp-for="@Model.SaleData.ComputedCoupen" asp-items="Model.GetCoupenList">
                                <option value="1" selected="selected">Apply Cash Discount</option>
                            </select>
                        </div>
                        <div class="Divcashamt">
                            <input type="number" class="form-control m-input m-input--solid" id="CashDiscount" placeholder="Enter Cash Discount" />
                        </div>
                        <div class="" style="display:block">
                            <label class="mb-1">Actual Price</label>
                            <input type="number" class="form-control m-input m-input--solid" id="amount12" placeholder="Enter Amount" value="@((Model.SaleData.TotalPrice + Convert.ToDouble(Model.SaleData.Discount)))" readonly />
                        </div>
                        <div class="" style="display:block">
                            <label class="mb-1">Cash Discount</label>
                            <input type="number" class="form-control m-input m-input--solid" id="amount1" placeholder="Enter Amount" value="@Model.SaleData.Discount" asp-for="@Model.SaleData.ComputedCoupen"/>
                        </div>
                        <div class="" style="display:block">
                            <label class="mb-1">Final Amount</label>
                            <input type="number" class="form-control m-input m-input--solid" id="amount123" placeholder="Enter Amount" value="@Model.SaleData.TotalAmount" readonly />
                        </div>
                    </div>
                     <div class="col-md-12" id="ExternalCoupon" style="display:none">
                        <div class="form-group">
                            <label class="mb-1">Apply Coupon Code</label>
                            <input class="form-control text-bold-600" id="CoupenCodeIdtext" asp-for="@Model.SaleData.ComputedCoupen" asp-items="Model.GetCoupenList">
                              
                        </div>
                        <div class="Divcashamt" style="display:none">
                            <input type="number" class="form-control m-input m-input--solid" id="CashDiscountext" placeholder="Enter Cash Discount" />
                        </div>
                        <div class="" style="display:block">
                            <label class="mb-1">Actual Price</label>
                            <input type="number" class="form-control m-input m-input--solid" id="amount12ext" placeholder="Enter Amount" value="@((Model.SaleData.TotalPrice + Convert.ToDouble(Model.SaleData.Discount)))" readonly />
                        </div>
                        <div class="" style="display:block">
                            <label class="mb-1"> Discount</label>
                            <input type="number" class="form-control m-input m-input--solid" id="amount12ext" placeholder="Enter Amount" value="@Model.SaleData.Discount" asp-for="@Model.SaleData.ComputedCoupen"/>
                        </div>
                        <div class="" style="display:block">
                            <label class="mb-1">Final Amount</label>
                            <input type="number" class="form-control m-input m-input--solid" id="amount123ext" placeholder="Enter Amount" value="@Model.SaleData.TotalAmount" readonly />
                        </div>
                    </div>
                      <div class="col-md-12" id="CashDiscCoupon" style="display:none">
                        @*<div class="form-group">
                            <label class="mb-1">Apply Coupon Code</label>
                            <select class="form-control text-bold-600" id="CoupenCodeId" asp-for="@Model.SaleData.ComputedCoupen" asp-items="Model.GetCoupenList">
                                <option value="1" selected="selected">Apply Cash Discount</option>
                            </select>
                        </div>*@
                        <div class="Divcashamt" style="display:block">
                            <input type="number" class="form-control m-input m-input--solid" id="CoupenCodeIdcash" asp-for="@Model.SaleData.ComputedCoupen" placeholder="Enter Cash Discount" />
                        </div>
                        <div class="" style="display:block">
                            <label class="mb-1">Actual Price</label>
                            <input type="number" class="form-control m-input m-input--solid" id="amount12cash" placeholder="Enter Amount" value="@((Model.SaleData.TotalPrice + Convert.ToDouble(Model.SaleData.Discount)))" readonly />
                        </div>
                        <div class="" style="display:block">
                            <label class="mb-1">Cash Discount</label>
                            <input type="number" class="form-control m-input m-input--solid" id="amount123cash" placeholder="Enter Amount" value="@Model.SaleData.Discount" readonly />
                        </div>
                        <div class="" style="display:block">
                            <label class="mb-1">Final Amount</label>
                            <input type="number" class="form-control m-input m-input--solid" id="amount1234cash" placeholder="Enter Amount" value="@Model.SaleData.TotalAmount" readonly />
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-link" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-success" id="btnCouponSubmit">Submit</button>
            </div>
        </div>
    </div>
</div>
                 

<div class="modal fade" id="applyCashDiscount" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-md modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Apply Cash Discount</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-12">
                        <div class="form-group">
                            <label class="mb-1">Apply Cash Discount</label>
                            @*<select class="form-control text-bold-600" id="CoupenCodeId">
                                    <option value="1" selected="selected">Apply Cash Discount</option>
                                </select>*@
                        </div>
                        <div class="Divcashamt" style="display:block">
                            <input type="number" class="form-control m-input m-input--solid" id="CashDiscount" placeholder="Enter Cash Discount" />
                        </div>
                        <div class="" style="display:none">
                            <label class="mb-1">Actual Price</label>
                            <input type="number" class="form-control m-input m-input--solid" id="amount1" placeholder="Enter Amount" value="@((Model.SaleData.TotalPrice + Convert.ToDouble(Model.SaleData.Discount)))" readonly />
                        </div>
                        <div class="" style="display:none">
                            <label class="mb-1">Cash Discount</label>
                            <input type="number" class="form-control m-input m-input--solid" id="amount1" placeholder="Enter Amount" value="@Model.SaleData.Discount" readonly />
                        </div>
                        <div class="" style="display:none">
                            <label class="mb-1">Final Amount</label>
                            <input type="number" class="form-control m-input m-input--solid" id="amount123" placeholder="Enter Amount" value="@Model.SaleData.PaymentStatus" readonly />
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-link" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-success" id="btnCouponSubmit">Submit</button>
            </div>
        </div>
    </div>
</div>


<div class="modal fade" id="paymentStatus" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-md modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Change Payment Status</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-12">
                        <div class="form-group mb-0">
                            <label class="mb-1">Payment Status</label>
                            <ul class="payment_status" id="PaymentStatusId">
                                @foreach (var item in SalesHelpers.PaymentStatusList)
                                {
                                    if (Model.SaleData.PaymentStatus == item.Text)
                                    {
                                        <li class="active" data-value="@item.Value"><i class="fas fa-check"></i>@item.Text</li>

                                    }
                                    else
                                    {
                                        <li data-value="@item.Value"><i class="fas fa-check"></i>@item.Text</li>

                                    }

                                }
                            </ul>
                            <input id="PaymentStatusValue" size="15" name="size" type="text" hidden />
                            <input id="PaymentStatusValueSet" asp-for="@Model.SaleData.PaymentStatus" hidden />

                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <div class="form-group mb-0">
                            <label class="mb-1">Payment Mode</label>
                            <ul class="payment_mode av nav-pills" id="PaymentModeId">
                                @foreach (var item in SalesHelpers.ModeList)
                                {
                                    if (Model.SaleData.PaymentMode == item.Value)
                                    {
                                        <li class="active" data-value="@item.Value" id="cashss"><i class="fas fa-check"></i>@item.Text</li>

                                    }
                                    else
                                    {
                                        <li data-value="@item.Value" id="cashss"><i class="fas fa-check"></i>@item.Text</li>

                                    }

                                }
                            </ul>

                            <input type="text" value="@Model.SaleData.TaxableAmount" id="valu143" hidden>
                            <!-- CASH AMOUNT FILTER -->
                            <div class="row" id="display143" style="display:none">
                                <div class="form-group col-md-6">
                                    <label>Cash Received</label>
                                    <input type="text" placeholder="Enter Amount" class="form-control mb-3" value="" id="value12" />
                                </div>
                                <div class="form-group col-md-6">
                                    <label>Cash Return</label>

                                    <input type="text" placeholder="0" class="form-control mb-3" value="" id="valu134" disabled />

                                </div>
                            </div>

                            <div class="form-check" id="display15432" style="display:none">
                                <input class="form-check-input" type="checkbox" name="Check[]" id="flexCheckChecked">
                                <label class="form-check-label">
                                    Split
                                </label>
                            </div>

                            <div class="row abcdDef" id="display7975" style="display:none">
                                <div class="form-group col-md-6">
                                    <label>Cash Received</label>
                                    <input type="text" placeholder="Enter Cash" class="form-control mb-3" value="" id="cash12" />
                                </div>
                                <div class="form-group col-md-6">
                                    <label>Digital Amount Received</label>
                                    <input type="text" placeholder="Enter Card amount" class="form-control mb-3" value="" id="Card12" />
                                    <input type="text" placeholder="0" class="form-control mb-3" value="" id="total123" hidden />
                                </div>
                                <div class="form-group col-md-6">
                                    <label>Cash return</label>
                                    <input type="text" class="form-control mb-3" id="valu79" value="" disabled>
                                </div>



                                <input id="PaymentModeValue" size="15" name="size" type="text" hidden />
                                <input id="PaymentModeValueSet" asp-for="@Model.SaleData.PaymentMode" hidden />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-link" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-success" id="BtnPaymentStatus">Submit</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal animated fadeIn" id="changeCustomerMd" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-md modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Change Customer Table</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>

                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12">
                            <label>Table Code</label>
                            <div class="form-group">
                                <select class="form-control m-input m-input--solid font-medium-3" id="selecttableId" name="tableId" asp-for="@Model.SaleData.tableId" asp-items="Model.tableList">
                                    <option value="0" selected="selected">Choose the Table</option>
                                </select>
                                <span name="Sales_Id" id="SalesOrderId" asp-for="@Model.SaleData.SalesOrderId" hidden>@Model.SaleData.SalesOrderId</span>
                                @*<span name="Customer_Id" id="CustomerId" asp-for="@Model.SaleData.CustomerId" hidden>@Model.SaleData.CustomerId</span>*@
                            </div>
                        </div>

                        <div class="col-md-12">
                            <label>Customer Name</label>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group mb-0 font-medium-3">
                                        <select id="GetcustomerNumber" class="form-control m-input m-input--solid m-select2">
                                            <option value="@Model.SaleData.CustomerOnlyId" selected>@Model.SaleData.CustomerId-@Model.SaleData.CustomerNo-@Model.SaleData.CustomerName</option>
                                        </select>
                                        <span id="custdetailIdData"></span>
                                    </div>
                                </div>
                            </div>
                        </div>



                    </div>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-link" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-success" id="BtnCustomer">Change</button>
                </div>
            </div>
        </div>
    </div>


    <!-- KOT LIST VIEW MODAL -->
    <div class="modal animated fadeIn" id="kotPrintListView" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-md modal-dialog-centered kot-custom-md" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">KOT List</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="table-responsive">
                                <table class="table table-striped-even ab-table-head-bg-warning-light table-borderless table-middle  m-data-table">
                                    <thead>
                                        <tr>
                                            <th style="display:none">Ids</th>
                                            <th>Item Name</th>
                                            <th>Quantity</th>
                                            <th>Created date</th>
                                            <th>Print KOT?</th>
                                        </tr>
                                    </thead>

                                    <tbody id="KotListView">
                                        @foreach (var item in Model.kotSaleList)
                                        {
                                            @if (item.KOT_Print == 1 || item.KOT_Print == 2)
                                            {
                                                @if (item.KOT_Status != 1)
                                                {
                                                    <tr>
                                                        <td style="display:none">
                                                            <input class="SalesOrderId" id="@item.SalesOrderId">
                                                            <input class="KitchListId" id="@item.KitchListId">
                                                            <input class="SalesListId" id="@item.SalesListId">

                                                        </td>
                                                        @if (item.Size == "NOVAR")
                                                        {
                                                            <td><a href="#" class="text-link">@item.PluName</a></td>

                                                        }
                                                        @if (item.Size != "NOVAR")
                                                        {
                                                            <td><a href="#" class="text-link">@item.PluName  @item.Size</a></td>

                                                        }
                                                        <td>@item.QuantityValue</td>
                                                        <td class="text-dark">@item.CreatedOn</td>
                                                        @if (item.KOT_Print == 1)
                                                        {
                                                            <td>
                                                                <div class="checkbox-inline d-inline-block ml-3">
                                                                    <label class="checkbox">
                                                                        <input type="checkbox" name="itemCheck" checked />
                                                                    </label>
                                                                </div>
                                                            </td>
                                                        }
                                                        else
                                                        {
                                                            <td>
                                                                <div class="checkbox-inline d-inline-block ml-3">
                                                                    <label class="checkbox">
                                                                        <input type="checkbox" name="itemCheck" />
                                                                    </label>
                                                                </div>
                                                            </td>
                                                        }
                                                    </tr>

                                                }
                                            }
                                        }
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-link" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-dark" id="BtnKotUpdate">CONFIRM & PRINT</button>
                </div>
            </div>
        </div>
    </div>


    <!--  List View Items -->
    <div class="modal animated fadeIn" id="ItemListView" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-md modal-dialog-centered kot-custom-md" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">List Of Items</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="table-responsive">
                                <table class="table table-striped-even ab-table-head-bg-warning-light table-borderless table-middle  m-data-table">
                                    <thead>
                                        <tr>
                                            <th>Item Name</th>
                                            <th>Quantity</th>
                                            <th>Status</th>
                                            <th>Update Duration</th>
                                        </tr>
                                    </thead>

                                    <tbody id="KotListView">
                                        @foreach (var item in Model.itemSalesList)
                                        {

                                            <tr>
                                                @if (item.Size == "NOVAR")
                                                {
                                                    <td><a href="#" class="text-link">@item.PluName</a></td>

                                                }
                                                @if (item.Size != "NOVAR")
                                                {
                                                    <td><a href="#" class="text-link">@item.PluName  @item.Size</a></td>

                                                }
                                                <td class="font-medium-3">@item.QuantityValue</td>
                                                @if (item.status == "Pending")
                                                {
                                                    <td><span class="m-badge m-badge--rounded m-badge--wide font-small-3 m-badge--danger">@item.status</span></td>

                                                }
                                                else if (item.status == "Accepted")
                                                {
                                                    <td><span class="m-badge m-badge--rounded m-badge--wide font-small-3 m-badge--success">In Preparation</span></td>

                                                }
                                                else
                                                {
                                                    <td><span class="m-badge m-badge--rounded m-badge--wide font-small-3 m-badge--dark">@item.status</span></td>

                                                }
                                                <td class="font-medium-3">@item.UpdateDuration</td>
                                            </tr>
                                        }
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="modal-footer">

                </div>
            </div>
        </div>
    </div>

    <!-- KOT LOGS LIST VIEW MODAL -->
    <div class="modal animated fadeIn" id="kot_log_md" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-md modal-dialog-centered kot-custom-md" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">KOT Logs</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="table-responsive">
                                <table class="table table-striped-even ab-table-head-bg-warning-light table-borderless table-middle m-data-table">
                                    <thead>
                                        <tr>
                                            <th>KOT ID</th>
                                            <th>Quantity</th>
                                            <th>Created date</th>
                                            <th>Print Count</th>
                                            <th>Print</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @{
                                            foreach (var item in Model.kotLOGsList)
                                            {
                                                <tr>
                                                    <td>@item.KOTID</td>
                                                    <td>@item.TotalQuantity</td>
                                                    <td class="text-dark">
                                                        @item.CreatedOn.ToString("dd-MMM-yyyy hh:mm tt")

                                                    </td>
                                                    <td>
                                                        <span class="badge badge-pill badge-danger">@item.CounterKot</span>
                                                    </td>
                                                    <td>
                                                        <a href="#" data-kotid="@item.KOTID" data-SalesId="@item.SalesOrderId" id="ReprintLogs">
                                                            <i class="flaticon-technology text-dark" style="font-size: 25px;"></i>
                                                        </a>
                                                    </td>
                                                </tr>
                                            }
                                        }
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div> @* <div class="modal-footer">
                    <button type="button" class="btn btn-link" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-dark">KOT Logs</button>
                    </div>*@
            </div>
        </div>
    </div>




    @{
        <script src="~/assets/scripts/sales/_SalesPartialView.js"></script>
        <script src="~/assets/scripts/sales/UpdateItem.js"></script>
        <script>
            $(document).ready(function () {

                $(".payment_status li").click(function () {
                    $(this).addClass('active').siblings().removeClass('active');
                });

                $(".payment_mode li").click(function () {
                    $(this).addClass('active').siblings().removeClass('active');
                });

                //$('#cashss').on('click', function () {
                //    var hub = $(this).attr("data-value");
                //    alert(hub);
                //    if (hub == "Cash") {
                //        $('#display143').css('display', 'flex');
                //    }
                //    if (hub == "Card") {
                //        $('#display143').css('display', 'flex');
                //    }

                //});









            });

        </script>
    }

